import asyncio
import logging
from src.main.python.ir.msob.manak.ai.tool.tool_provider_publisher import ToolProviderPublisher


async def start_tool_provider_publisher():
    """Start the Tool Provider Publisher in background."""
    logger = logging.getLogger("Publisher")
    try:
        publisher = ToolProviderPublisher()
        logger.info("üü° Starting ToolProviderPublisher...")
        await publisher.publish()
        logger.info("‚úÖ ToolProviderPublisher finished successfully.")
    except asyncio.CancelledError:
        logger.warning("‚ö†Ô∏è ToolProviderPublisher was cancelled.")
    except Exception as e:
        logger.exception(f"‚ùå ToolProviderPublisher failed: {e}")
